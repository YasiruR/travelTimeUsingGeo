import copy as cp
import pandas as pd

#training all trips
#testing 1700000-1700050
actualTimeList = [917.0, 570.0, 304.0, 271.0, 655.0, 691.0, 891.0, 257.0, 1380.0, 221.0, 231.0, 573.0, 1353.0, 471.0, 921.0, 501.0, 1347.0, 222.0, 714.0, 2646.0, 301.0, 641.0, 963.0, 655.0, 1089.0, 294.0, 222.0, 565.0, 645.0, 1383.0, 403.0, 554.0, 492.0, 515.0, 419.0, 800.0, 919.0, 1724.0, 745.0, 507.0, 529.0, 1132.0, 542.0, 501.0, 346.0, 324.0, 420.0, 1368.0, 521.0, 497.0]
calculatedTimeList = [758.4345130850542, 741.360813504549, 355.9929768639447, 290.6200000701908, 536.008776112658, 1261.129465083574, 797.865857714933, 498.9601607220431, 1380.0, 291.70919675901257, 325.44782059775974, 528.1870922021513, 1622.1815932012587, 979.2728549843666, 893.3853271672789, 390.8711135849095, 1309.9309104327783, 325.01345273662594, 633.9100833958221, 1866.0410353647421, 303.97507199038944, 622.0817809011007, 973.6632692083462, 900.7911062636834, 1113.635325559794, 294.0, 450.2627474649262, 565.0, 724.2106775732259, 1256.4255327121073, 379.2051718456253, 337.10382400323886, 492.0, 402.69404197182155, 419.0, 656.47206627306, 860.9809908398779, 1235.2777513952774, 869.2441406968785, 452.8595429957961, 657.4515020796317, 695.9584156539418, 542.0, 486.89012373077463, 648.2964691139309, 434.32030962661014, 286.5662661264906, 1368.0, 451.40286361401814, 497.0]
errorList = [17.29176520337468, 30.06330061483316, 17.102952915771283, 7.239852424424659, 18.166599066769773, 82.5078820670874, 10.45276568855971, 94.14792245993895, 0.0, 31.9951116556618, 40.88650242327262, 7.820751797181266, 19.8951657946237, 107.91355732152158, 2.9983358124561468, 21.981813655706688, 2.75197398420354, 46.40245618766934, 11.217075154646768, 29.47690720465827, 0.9883960100961587, 2.9513602338376397, 1.1072969063703169, 37.5253597349135, 2.262197021101373, 0.0, 102.82105741663341, 0.0, 12.2807252051513, 9.152166832096365, 5.904423859646334, 39.15093429544425, 0.0, 21.806982141393874, 0.0, 17.940991715867497, 6.31327629598717, 28.348158271735652, 16.67706586535282, 10.678591125089524, 24.281947463068377, 38.5195745888744, 0.0, 2.816342568707658, 87.3689217092286, 34.04947827981795, 31.769936636549865, 0.0, 13.358375505946613, 0.0]

#1.5mil training trips
#testing 1700000-1700050
actualTimeList1 = [917.0, 570.0, 304.0, 271.0, 655.0, 691.0, 891.0, 257.0, 1380.0, 221.0, 231.0, 573.0, 1353.0, 471.0, 921.0, 501.0, 1347.0, 222.0, 714.0, 2646.0, 301.0, 641.0, 963.0, 655.0, 1089.0, 294.0, 222.0, 565.0, 645.0, 1383.0, 403.0, 554.0, 492.0, 515.0, 419.0, 800.0, 919.0, 1724.0, 745.0, 507.0, 529.0, 1132.0, 542.0, 501.0, 346.0, 324.0, 420.0, 1368.0, 521.0, 497.0]
calculatedTimeList1 = [599.8690261701083, 743.3830936101239, 360.3565751331166, 288.02770739074674, 496.34503481687733, 1429.2954729550806, 748.161546294009, 458.0193600819118, None, 333.0050964750288, 372.67173089663964, 505.78063830322697, 1676.0179118415103, 1051.883262839276, 879.5779907509184, 375.13841552561087, 1259.4579479004362, None, 553.8201667916442, 1947.30227246415, 278.7141425480156, 702.2768104612065, 978.994903812519, 1195.893382616603, 1065.8805595311803, None, 482.47604234032707, None, 785.6719154677045, 1208.9165657565188, 496.5355606592722, 327.3352290623526, None, 404.7668548463521, None, 655.7674308139523, 1104.1413351356841, None, 837.6756381952861, 398.7190859915922, 700.2686694395089, 603.1944108833843, None, 575.8661163580557, 618.8454173173508, 432.16419731964714, 253.2078326581132, None, 454.40901435787475, None]
errorList1 = [34.58353040674936, 30.418086598267344, 18.538347083262046, 6.283286860054148, 24.222132089026363, 106.84449680970776, 16.031251818854212, 78.21764983731978, 78.21764983731978, 50.6810391289723, 61.32975363490893, 11.731127695771908, 23.874198953548436, 123.32977979602464, 4.497503718684214, 25.12207274937907, 6.499038760175484, 6.499038760175484, 22.434150309293535, 26.40580980861111, 7.403939352818733, 9.559564814540801, 1.6609453595554575, 82.57914238421421, 2.1229972882295387, 2.1229972882295387, 117.33155060375094, 117.33155060375094, 21.809599297318524, 12.587377747178682, 23.209816540762336, 40.91421858080278, 40.91421858080278, 21.404494204591828, 21.404494204591828, 18.029071148255966, 20.145955945123408, 20.145955945123408, 12.439682979233028, 21.357182250179058, 32.37592995075783, 46.714274656944845, 46.714274656944845, 14.943336598414312, 78.85705702813605, 33.38401151840961, 39.71242079568733, 39.71242079568733, 12.781379201943427, 12.781379201943427]

#1.5mil training trips
#testing 1500000-1500050
actualTimeList2 = [695.0, 289.0, 637.0, 707.0, 930.0, 1039.0, 311.0, 1268.0, 508.0, 717.0, 231.0, 579.0, 780.0, 441.0, 321.0, 1435.0, 1253.0, 848.0, 495.0, 1538.0, 779.0, 427.0, 869.0, 255.0, 259.0, 725.0, 503.0, 1076.0, 581.0, 1000.0, 322.0, 185.0, 439.0, 389.0, 177.0, 323.0, 550.0, 510.0, 688.0, 778.0, 1218.0, 484.0, 914.0]
calculatedTimeList2 = [708.9308115691739, 253.11657842893425, 625.9078243569282, 616.0258049995787, 866.9508804860188, 1772.9352549148182, 265.04951733863265, 1222.083648882352, 600.2592972156845, 808.6381299829116, 268.9036308195289, 520.9135807654349, 932.4408175767353, 504.7915377615499, 437.14307878018377, 1886.110010745578, 541.2815081724772, 468.50940676775696, 510.94756868649495, 756.3026448200901, 423.19902311270334, 512.9662655370735, 636.4095690756309, 225.11016264844486, 318.7450387098061, 676.8901447994294, 545.441916617286, 1045.5622118337537, 804.8104928596721, 853.736965561895, 245.13506378327952, 221.4049504483266, 438.99582542112086, 359.77726226307436, 414.05035961408436, 349.49330764779666, 1061.4822361605302, 421.8257636461958, 638.3653970945313, 657.9975794539137, 809.489668329727, 606.4707796773398, 557.3686757872125]
errorList2 = [2.0044333193055968, 12.416408848119639, 1.7413148576250792, 12.867637199493824, 6.779475216557115, 70.6386193373261, 14.775074810729052, 3.6211633373539427, 18.161278979465443, 12.780771266793803, 16.40849819027226, 10.032196758992253, 19.54369456111991, 14.465201306473896, 36.18164447980803, 31.436237682618675, 56.80115657043279, 44.751249201915456, 3.221731047776757, 50.82557575942197, 45.674066352669655, 20.13261487987669, 26.765296999352024, 11.721504843747114, 23.06758251343866, 6.635842096630423, 8.437756782760633, 2.828790721770099, 38.52159945949606, 14.626303443810503, 23.87109820395046, 19.67835159369005, 0.0009509291296456763, 7.512271911806076, 133.92675684411546, 8.202262429658408, 92.99677021100548, 17.28906595172631, 7.2143318176553315, 15.424475648597216, 33.539436097723566, 25.303880098623928, 39.0187444434122]

#converting into minutes
actualTimeLst = []
calculatedTimeLst = []
for ele in actualTimeList2:
    actualTimeLst.append(ele/60)
for ele in calculatedTimeList2:
    if(ele == None):
        ele = 0
    calculatedTimeLst.append(ele/60)

df = pd.DataFrame(calculatedTimeLst, actualTimeLst)
df.to_csv("testArray1.csv")

def mean_absolute_percentage_error(y_true, y_pred): 
    y_true, y_pred = np.array(y_true), np.array(y_pred)
    return np.mean(np.abs((y_true - y_pred) / y_true)) * 100